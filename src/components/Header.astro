---
import { Home } from "lucide-astro";

const navigation = [
  { name: "Ãœber mich", href: "/ueber-mich" },
  { name: "Blog", href: "/blog" },
  { name: "Kontakt", href: "/kontakt" },
];

const currentPath = Astro.url.pathname;
const isHome = currentPath === "/";
---

<header
  class="pointer-events-none fixed top-0 left-0 right-0 z-50 flex flex-col"
>
  <div class="z-10 h-16 pt-6">
    <div class="sm:px-8">
      <div class="mx-auto max-w-7xl lg:px-8">
        <div class="relative px-4 sm:px-8 lg:px-12">
          <div class="mx-auto max-w-2xl lg:max-w-5xl">
            <div class="relative flex gap-4 justify-center">
              <!-- Home icon on left (only when not on homepage) -->
              <div class="flex flex-1">
                {
                  !isHome && (
                    <a
                      href="/"
                      title="Startseite"
                      aria-label="Zur Startseite"
                      class="pointer-events-auto group rounded-full bg-white/90 p-2.5 shadow-lg shadow-gray-800/5 ring-1 ring-gray-900/5 backdrop-blur transition hover:ring-gray-900/10 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-600"
                    >
                      <Home class="h-5 w-5 text-gray-600 transition group-hover:text-gray-800" />
                    </a>
                  )
                }
              </div>

              <!-- Navigation links -->
              <div class="flex flex-1 justify-end md:justify-center">
                <nav class="pointer-events-auto">
                  <ul
                    class="flex rounded-full bg-white/90 px-3 text-sm font-medium text-gray-800 shadow-lg shadow-gray-800/5 ring-1 ring-gray-900/5 backdrop-blur"
                  >
                    {
                      navigation.map((item) => (
                        <li>
                          <a
                            href={item.href}
                            class:list={[
                              "relative block whitespace-nowrap px-3 py-2.5 transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-primary-600 rounded",
                              currentPath === item.href ||
                              currentPath.startsWith(item.href + "/")
                                ? "text-primary-700"
                                : "hover:text-primary-700",
                            ]}
                          >
                            {item.name}
                          </a>
                        </li>
                      ))
                    }
                  </ul>
                </nav>
              </div>

              <!-- Spacer for symmetry -->
              <div class="flex flex-1 justify-end"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>
