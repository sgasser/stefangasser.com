---
import { Image, getImage } from "astro:assets";
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import SocialLinks from "../components/SocialLinks.astro";
import { FileText, User, MessageCircle } from "lucide-astro";
import stefanImage from "../assets/stefan.webp";
import ContactCTA from "../components/ContactCTA.astro";
import NavCard from "../components/NavCard.astro";

// Use getImage for LCP image to have full control over attributes
const heroImage = await getImage({ src: stefanImage, width: 320, height: 320, format: "webp" });
---

<Layout title="Stefan Gasser – Digitalisierung. KI. Automatisierung.">
  <Header />

  <main>
    <!-- Hero Section -->
    <section class="mt-8 sm:mt-16 sm:px-8">
      <div class="mx-auto max-w-7xl lg:px-8">
        <div class="relative px-4 sm:px-8 lg:px-12">
          <div class="mx-auto max-w-2xl lg:max-w-5xl">
            <div
              class="grid grid-cols-1 gap-y-16 lg:grid-cols-2 lg:gap-x-16 lg:gap-y-12"
            >
              <div class="flex justify-center lg:justify-start lg:px-4">
                <div class="max-w-[280px] px-2.5 lg:max-w-[320px]">
                  <figure>
                    <img
                      src={heroImage.src}
                      width={320}
                      height={320}
                      alt="Stefan Gasser"
                      loading="eager"
                      decoding="sync"
                      fetchpriority="high"
                      class="aspect-square -rotate-3 rounded-2xl bg-gray-100 object-cover shadow-lg ring-1 ring-gray-900/5"
                    />
                    <figcaption
                      class="mt-4 text-center text-lg font-semibold text-gray-800 -rotate-3"
                    >
                      Ich bin Stefan Gasser
                    </figcaption>
                  </figure>
                </div>
              </div>
              <div class="text-center lg:text-left lg:row-span-2 lg:pl-0">
                <h1
                  class="text-4xl font-bold tracking-tight text-gray-800 sm:text-5xl max-w-xl mx-auto lg:mx-0"
                >
                  Digitalisierung.<br />
                  <span
                    class="inline-block bg-primary-200/60 italic px-2 py-0.5 -my-0.5 -mx-0.5 rounded"
                    >KI</span
                  >.<br />
                  Automatisierung.
                </h1>
                <p class="mt-6 text-xl text-gray-600 leading-relaxed">
                  Ich helfe Unternehmen, KI und Automatisierung sinnvoll
                  einzusetzen – von der Analyse bis zur fertigen Lösung.
                </p>
                <SocialLinks class="mt-6 justify-center lg:justify-start" />
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 3 Cards Section -->
    <section class="py-12 sm:px-8">
      <div class="mx-auto max-w-7xl lg:px-8">
        <div class="relative px-4 sm:px-8 lg:px-12">
          <div class="mx-auto max-w-2xl lg:max-w-5xl">
            <div class="grid grid-cols-1 gap-6 sm:grid-cols-3">
              <NavCard
                title="Blog"
                description="Artikel über KI und Automatisierung – aus der Praxis."
                href="/blog"
                linkText="Artikel lesen"
              >
                <FileText slot="icon" class="h-5 w-5 text-gray-400" />
              </NavCard>

              <NavCard
                title="Über mich"
                description="Entwickler, Unternehmer, Führungskraft. Ich verbinde technische Tiefe mit strategischem Blick."
                href="/ueber-mich"
                linkText="Mehr erfahren"
              >
                <User slot="icon" class="h-5 w-5 text-gray-400" />
              </NavCard>

              <NavCard
                title="Leistungen"
                description="Von der Analyse bis zur fertigen Lösung. Beratung und Umsetzung aus einer Hand."
                href="/leistungen"
                linkText="Mehr erfahren"
              >
                <MessageCircle slot="icon" class="h-5 w-5 text-gray-400" />
              </NavCard>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Value Proposition Section -->
    <section class="py-16 sm:px-8">
      <div class="mx-auto max-w-7xl lg:px-8">
        <div class="relative px-4 sm:px-8 lg:px-12">
          <div class="mx-auto max-w-2xl lg:max-w-5xl">
            <h2
              class="text-2xl sm:text-3xl font-bold text-gray-800 leading-snug"
            >
              Alle reden von KI. Aber was bringt das konkret für Ihr
              Unternehmen?
            </h2>
            <div
              class="mt-6 max-w-3xl space-y-4 text-lg text-gray-600 leading-relaxed"
            >
              <p>Das finden wir gemeinsam heraus.</p>
              <p>
                Ich lerne Ihr Unternehmen kennen, verstehe Ihre Abläufe und
                zeige Ihnen, wo KI echten Mehrwert schaffen kann. Dann setzen
                wir es um – Schritt für Schritt.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact CTA Section -->
    <section class="py-16 sm:px-8">
      <div class="mx-auto max-w-7xl lg:px-8">
        <div class="relative px-4 sm:px-8 lg:px-12">
          <div class="mx-auto max-w-2xl lg:max-w-5xl">
            <ContactCTA variant="services" />
          </div>
        </div>
      </div>
    </section>
  </main>

  <Footer />
</Layout>
